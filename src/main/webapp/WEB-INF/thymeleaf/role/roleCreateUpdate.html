<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta th:include="fragments/headTag :: headTag" th:remove="tag"/>
    <meta th:include="fragments/headTagCalendar :: headTagCalendar" th:remove="tag"/>
</head>

<body th:style="${#locale.language == 'fa'}? 'font-family: yekan' : 'font-family: tahoma'">
    <div class="container" th:dir="${#locale.language == 'fa'}? 'rtl'">
        <div th:include="/fragments/header :: header">
        </div>
        <br/>
        <p th:text="${#locale}">
        </p>
        <form action="#" th:action="(${role.id} != null) ? @{|/roles/${role.id}|} : @{/roles/create}" th:object="${role}" class="form-horizontal" method="post">
                <div class="form-group" th:classappend="${#fields.hasErrors('name')} ? 'has-error'">
                    <label class="control-label col-md-2" th:text="#{role.name}">name: </label>
                    <div class="col-md-10">
                       <input type="text" th:field="*{name}" class="form-control"/>
                       <span class="help-inline" th:errors="*{name}">[error]</span>
                     </div>
                </div>
                <div class="form-group" th:classappend="${#fields.hasErrors('permissions')} ? 'has-error'">
                    <span class="help-inline" th:errors="*{permissions}">[error]</span>
               </div>                
               <div class="form-group" th:each="permission, permissionStat : ${permissions}" th:classappend="${#fields.hasErrors('permissions')} ? 'has-error'">
                    <div class="col-md-offset-2 col-md-1">
                        <div class="checkbox">
                        <label>
                            <input type="checkbox" th:field="*{permissions}" th:value="${permission.id}"/>
                            <span th:text="${permission.name}">admin</span>
                        </label>
                        </div>
                    </div>
               </div>                
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input  type="submit" value="submit" class="btn btn-primary" th:value="#{button.submit}" />
                    </div>
                </div>
        </form>
    </div>
</body>

</html>
